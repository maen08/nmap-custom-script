worker_processes auto;

events {
    worker_connections 1024;
}

http {
    server {
    listen 80;
    server_name webapp.lc;

    location / {
        root /usr/share/nginx/html;
        index index.html;
    }

    # 1. No HSTS (HTTP Strict Transport Security)
    # HSTS is missing, making downgrade attacks possible.

    # 2. No Content-Security-Policy (CSP)
    # No CSP allows inline scripts and external resources without restrictions.

    # 3. No HPKP (HTTP Public Key Pinning) [Deprecated]
    # Not included, leaving room for MITM attacks with fraudulent certificates.

    # 4. No X-Frame-Options
    # Allows Clickjacking attacks.
    
    # 5. No X-XSS-Protection
    # Disabling XSS protections.
    add_header X-XSS-Protection "0";

    # 6. No X-Content-Type-Options
    # Allowing MIME-type sniffing.
    
    # 7. No Expect-CT
    # Not enforcing certificate transparency.

    # 8. No X-Permitted-Cross-Domain-Policies
    # Allows Flash/Silverlight to load cross-domain content.
    
    # 9. Insecure Set-Cookie
    # Missing HttpOnly and Secure flags, allowing session hijacking.
    add_header Set-Cookie "sessionid=123456; Path=/";

    # 10. No Cache-Control
    # Allowing sensitive data caching.
    
    # 11. No Pragma
    # Allowing cache persistence.
    
    # 12. No Expires header
    # No expiration for cache control.
    }

}

